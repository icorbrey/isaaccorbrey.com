import { getPosts } from "../features/posts/collection";
import ProjectList from "../features/projects/ProjectList.svelte";
import PostList from "../features/posts/PostList.svelte";
import ButtonLink from "../controls/ButtonLink.svelte";
import Hero from "../controls/Hero.svelte";
import Root from "../layouts/Root.astro";
import Row from "../controls/Row.svelte";

<Root title="Isaac Corbrey">
	<Hero title="Hey! I'm Isaac">
		I'm a software developer who works on open source projects and
		occasionally writes articles and videos about technical topics.
		
		Stick around and check out my [posts](/posts) or learn more
		[about me](/about).
	</Hero>

	<Row>
		<h2>Posts</h2>
		<ButtonLink href="/posts">All posts</ButtonLink>
	</Row>
	
	<PostList
		posts={await getPosts({
			includeDrafts: import.meta.env.DEV,
			limit: 10,
		})}
		highlightNew
	/>

	<Row>
		<h2>Projects</h2>
		<ButtonLink href="/projects">All projects</ButtonLink>
	</Row>
	<ProjectList />
</Root>
