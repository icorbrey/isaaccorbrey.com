---
import ProjectList from "components/projects/ProjectList.astro";
import Section from "components/controls/Section.astro";
import NoteList from "components/notes/NoteList.astro";
import Prose from "components/controls/Prose.astro";
import Hero from "components/controls/Hero.astro";
import { noteStore } from "stores/notes";
import Root from "layouts/Root.astro";

const notes = await noteStore.getRecent({
  includeDrafts: import.meta.env.DEV,
  limit: 10,
});
---

<Root
  description={"I'm a software developer who works on open source projects and " +
    "occasionally writes articles and videos about technical topics."}
>
  <Hero title="Hey! I'm Isaac">
    <Prose>
      <p>
        I'm a software developer who works on open source projects and
        occasionally writes articles and videos about technical topics.
      </p>
      <p>
        Stick around and check out my <a href="/notes">notes</a>!
      </p>
    </Prose>
  </Hero>

  <Section title="Notes" link={{ text: "All notes", href: "/notes" }}>
    <NoteList {notes} highlightNew />
  </Section>

  <Section title="Projects" link={{ text: "All projects", href: "/projects" }}>
    <ProjectList />
  </Section>
</Root>
